\mode<presentation>

% Requirement
\RequirePackage{tikz}
\RequirePackage{xcolor}
\RequirePackage{ifthen}
\RequirePackage[many]{tcolorbox}
\RequirePackage{graphicx}

% Settings
\useinnertheme{material}
\useoutertheme{material}
\usecolortheme{material}

\setbeamertemplate{navigation symbols}{}

\setbeamerfont*{title}{size=\Huge}
\setbeamerfont*{frametitle}{size=\large}

\addtobeamertemplate{footline}{}{
    \setbeamercolor{footerbox}{bg=BGgrey02}
    \usebeamerfont{footline}
    \usebeamercolor[fg]{footline}

    \leavevmode
    \begin{beamercolorbox}[wd=0.5\paperwidth,ht=7pt,dp=4pt,left]{footerbox}
        \hspace*{1.2ex}
        % \vspace{-0.06cm}
        SSPŠ WBA 2020/2021 | Matěj Cajthaml
        % \insertframenavigationsymbol
        %
    \end{beamercolorbox}%
    \begin{beamercolorbox}[wd=0.5\paperwidth,ht=7pt,dp=4pt,right]{footerbox}
        \insertframenumber/\inserttotalframenumber
        \hspace*{2ex}
    \end{beamercolorbox}
}

% tcolorbox settings
\newcommand{\setCardSettings}{%
\tcbset{%
colback=BGgrey04, colbacktitle=primary, coltitle=textPrimary, coltext=text,%
enhanced, sharpish corners=all,%
fuzzy shadow={0mm}{ 0.9mm}{ 0.6mm}{0.2mm}{shadow!40!BGgrey03}, % top
fuzzy shadow={0mm}{-0.6mm}{-0.1mm}{0.2mm}{shadow!40!BGgrey03}, % bottomSmall
fuzzy shadow={0mm}{-0.2mm}{-0.2mm}{0.2mm}{shadow!40!BGgrey03}, % bottomBig
left=4mm, right=4mm, top=4mm, bottom=4mm, middle=4mm,%
title filled, boxrule=0mm, %
segmentation code={\path[draw=BGgrey01](segmentation.west) -- (segmentation.east);}%
}
}

\setCardSettings

\newenvironment{card}[1][pR23s2OTKY]{%
  \setCardSettings
    \ifthenelse{\equal{#1}{pR23s2OTKY}}{%
      \begin{tcolorbox}%
    }{%
      \begin{tcolorbox}[colbacktitle=primary, coltitle=textPrimary, title=#1, left=3mm, right=3mm, top=3mm, bottom=3mm, middle=3mm, toptitle=3mm, bottomtitle=3mm,]%
    }%
}{%
  \end{tcolorbox}%
}

\newenvironment{cardTiny}{%
  \setCardSettings
  \begin{tcolorbox}[colbacktitle=primary, left=2mm, right=2mm, top=2mm, bottom=2mm, middle=2mm, toptitle=2mm, bottomtitle=2mm,]%
}{%
  \end{tcolorbox}%
}

  
\newcommand{\cardImg}[3][pR23s2OTKY]{%
  \setCardSettings
  \ifthenelse{\equal{#1}{pR23s2OTKY}}{%
    \begin{tcolorbox}[lower separated=false, leftupper=0mm, rightupper=0mm, top=0mm, bottom=0mm, middle=1.5mm, boxsep=0mm, width=#3,]%
      \includegraphics[width=\textwidth]{#2}
    \end{tcolorbox}
  }{%
    \begin{tcolorbox}[lower separated=false, leftupper=0mm, rightupper=0mm, top=0mm, middle=1.5mm, boxsep=0mm, leftlower=6mm, rightlower=6mm, bottom=6mm, , width=#3,]%
      \includegraphics[width=\textwidth]{#2}
      \tcblower
      #1%
    \end{tcolorbox}
  }%
}
  
\newenvironment{frameImg}[2][width]{%
  \setCardSettings
  \ifthenelse{\equal{#1}{width}}{%
    \usebackgroundtemplate{\hspace{-0.5\paperwidth}\parbox[c][\paperheight][c]{2\paperwidth}{\centering\includegraphics[width=\paperwidth, keepaspectratio=true]{#2}}}%
  }{%
    \usebackgroundtemplate{\hspace{-0.5\paperwidth}\parbox[c][\paperheight][c]{2\paperwidth}{\centering\includegraphics[height=\paperheight, keepaspectratio=true]{#2}}}%
  }%
  \begin{frame}
}{%  
  \end{frame}
}

\mode<all>
